
<div class="billing">
  <div class="billing__container container">

    <div class="billing-form">
      <h1 class="form-title">Оформлення замовлення</h1>

      <%= form_with model: @order, local: true do |f| %>
        <div class="form-group">
          <%= f.label :name, "Ім'я", class:"form-label" %>
          <%= f.text_field :name, required: true, class:"form-input" %>
        </div>

        <div class="form-group">
          <%= f.label :email, "Email", class:"form-label" %>
          <%= f.email_field :email, required: true, class:"form-input" %>
        </div>

        <div class="form-group">
          <%= f.label :phone, "Телефон", class:"form-label" %>
          <%= f.telephone_field :phone, required: true, class:"form-input" %>
        </div>

        <div class="form-group">
          <%= f.label :address, "Адреса", class:"form-label" %>
          <%= f.text_area :address, required: true, class:"form-textarea" %>
        </div>

        <div class="form-group">
        <%= f.label :address, "Тип доставки", class:"form-label" %>
          <%= f.select :delivery_method, Order::DELIVERY_METHODS,{}, prompt: "Choose a delivery method", class:"form-select" %>
        </div>

        <div class="form-group">
        <%= f.label :address, "Тип оплати", class:"form-label" %>
          <%= f.select :payment_method, Order::PAYMENT_METHODS,{}, prompt: "Choose a payment method", class:"form-select" %>
        </div>
        

        <h1 class="form-title">Your order</h1>

        <div class="order-summary">
          <table class="order-table">
            <thead>
              <tr>
                <th>Product</th>
                <th>Subtotal</th>
              </tr>
            </thead>
            <tbody>

              <% @cart.orderables.each do |order| %>
                <tr>
                  <td>
                    <%= order.product.name %> × <%= order.quantity %>
                  </td>
                  <td><%= order.total %></td>
                </tr>
              <% end %>
            </tbody>
            <tfoot>
              <tr>
                <td class="total-label">Total</td>
                <td class="total-amount"><%= @cart.total %></td>
              </tr>
            </tfoot>
          </table>
        </div>


        <%= f.submit "Підтвердити замовлення", class:"btn-submit" %>
      <% end %>
    </div>
  </div>
</div>
